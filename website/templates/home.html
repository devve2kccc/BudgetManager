{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block content %}
<ul class="list-group" id="expense-box">
  <li class="list-group-item active">Total Expenses</li>
  <li class="list-group-item">{{ total_expense }}</li>
</ul>
<button id="myBtn" class="btn btn-primary">Add Expenses</button>
<ul class="list-group" id="income-box">
  <li class="list-group-item active">Total Income</li>
  <li class="list-group-item">{{ total_expense }}</li>
</ul>
<div id="myModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <form method="POST">
      <div class="inputDiv">
        <h5>Expense Name</h5>
        <textarea name="transactionname" id="transactionname" class="form-control"></textarea>
        <h5>Amount</h5>
        <textarea name="addmoney" id="addmoney" class="form-control"></textarea>
        <div>
          <label for="date">Date:</label>
          <input type="date" id="date" name="date" required />
        </div>
        <div>
          <label for="category">Category:</label>
          <select id="category" name="category">
            <option value="">Select an existing category</option>
            <option value="food">Food and Dining</option>
            <option value="transportation">Transportation</option>
            <option value="housing">Housing</option>
            <option value="health">Health and Wellness</option>
            <option value="entertainment">Entertainment</option>
            <option value="travel">Travel</option>
            <option value="personal_care">Personal Care</option>
            <option value="education">Education</option>
            <option value="gifts">Gifts and Donations</option>
            <option value="miscellaneous">Miscellaneous</option>
          </select>
        </div>
        <div>
          <label for="custom_category">Or enter a custom category:</label>
          <input type="text" id="custom_category" name="custom_category">
        </div>
        <button type="submit" class="btn btn-primary">Add</button>
      </div>
    </form>
  </div>
</div>
<button id="myBtnin" class="btn btn-primary">Add Income</button>
<div id="myIncomeModal" class="modal">
  <div class="modal-content">
    <span class="closein">&times;</span>
    <form method="POST">
      <div class="inputDiv">
        <h5>Income</h5>
        <textarea name="transactionname" id="transactionname" class="form-control"></textarea>
        <h5>Amount</h5>
        <textarea name="addmoney" id="addmoney" class="form-control"></textarea>
        <div>
          <label for="date">Date:</label>
          <input type="date" id="date" name="date" required />
        </div>
        <div>
          <label for="category">Category:</label>
          <select id="category" name="category">
            <option value="">Select an existing category</option>
            <option value="job">JOB</option>
            <option value="transportation">Transportation</option>
            <option value="housing">Housing</option>
          </select>
        </div>
        <div>
          <label for="custom_category">Or enter a custom category:</label>
          <input type="text" id="custom_category" name="custom_category">
        </div>
        <button type="submit" class="btn btn-primary">Add</button>
      </div>
    </form>
  </div>
</div>
<br />
<br />
<br />
<br />
<div class="filter-options">
  <label for="filter">Filter by:</label>
  <select id="filter" name="filter">
    <option value="all">All</option>
    <option value="month">Month</option>
    <option value="week">Week</option>
    <option value="day">Day</option>
    <option value="range">Range</option>
  </select>
  <input type="date" id="start-date" name="start-date" style="display: none;">
  <input type="date" id="end-date" name="end-date" style="display: none;">
  <button id="filter-button" class="btn btn-primary">Filter</button>
</div>
<table id="data" class="table">
  <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Amount</th>
      <th>Category</th>
      <th>Date</th>
      <th>Type</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for money in transactions %}
    <tr class="{% if money.transaction_type == 'expense' %}expense{% elif money.transaction_type == 'income' %}income{% endif %}">
      <td>{{ money.transaction_id }}</td>
      <td>{{ money.transaction_name }}</td>
      <td>{{ money.amount }}</td>
      <td>{{ money.category }}</td>
      <td>{{ money.date }}</td>
      <td>{{ money.transaction_type }}</td>
      <td>
        <button class="btn btn-danger" onclick="deleteTransaction({{ money.id }})">Delete</button>
        <button class="btn btn-primary" onclick="editTransaction({{ money.id }})">Edit</button>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}